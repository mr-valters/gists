# Convert Pull Request into Investment

Each time when we, developers, face incomplete Pull Request, we have a lot of questions, we do not have answers, we need to guess and guessing is exhausting, isn't it? All this muddy process is not the greatest time spent for us as professional developers. Actually each Pull Request is a great investment for everybody and for a better future. Let's take a look at how to fix this issue once and forever.

## Who can create Pull Request?

Pull Request (PR) can be created by **humans** or generated by **Bots**. As result any PR contains some changes that are intended for *better* code-base.

### PR generated by Bots

When changes are generated by the Bot, it is clear why there is a particular PR. It contains description & deep explanation (changelog, release notes, list of commits, new features, references to issues, etc). Bot's PR is very complete, focused, technical, small, intended for quick review.

In case there is a need for something additional to this PR, write some comments!

### PR created by Humans

When changes are created by humans (client or dev, etc.), then there are certain causes and means for that, for example, some situations to handle, some problems to solve, feature to have, etc.

The following will be about such a case - PR made by Humans.

## Magic questions

PR description should give answers on 4 questions - What, how, where, why?

### What is changed?

Directly related with **WHY** question

### How it is changed?

Technical only

### Where to see these changes?

Testing can show where

### Why there are such changes?

Answer to **WHAT** question in details

> If all of these will be answered, the **problem solved**!

## PR without description

Who can tell something about changes in PR without any description in PR? There is *just code* alone. Why even there is PR?

It is hard for code alone to give additional details or explanations of **what**, **how**, **where** and **why** there are a changes and PR after all?

### Consequences of weak PR

Consequences of PR without description (or poor, messy, incomplete description):

* It takes a longer time for the reviewer to the review PR
* There is a chance that some new bugs may occur later
* It discourages recently on-boarded devs or newbies to step in to project (onboard completely)
* PR (and project as well ) may lack valid comments, questions, discussions
* It may break workflow by blocking other devs
* It slows down the code assessment and consequently product improvement
* Other devs need to **guess** where see the result of code-changes, where to check what is changed, what is build? **Guessing is the worst**
* Hard to learn from each other without code-change discription provided

Now it is clear that better to write something in PR, but what exactly?

## What to write in PR?

No matter how many changes are in PR (one or hundred), structure always consists of **4 parts**.

4 headings always are present:

* Major change[s] / message to the client ([Reusable](#reusability-of-the-1st-part); Answer to **What**)
* Technical (Answer to **How**)
* Test ([Reusable](#reusability-of-the-3rd-part); Answer to **Where**)
* Story (Answer to **Why**)

> All the 4 parts should be incorporated in every PR for every feature branch, even there is no ticket assigned or multiple tickets assigned.

**Suggestion**: Create exactly one PR per one ticket - for quicker review and simplicity.

### 1st Part: *Message* to the client

This part should answer **what** is changed / what is build?

&nbsp; &nbsp;

PR starts with a heading that explains what is done. The major change(s) in one sentence. Heading should be clear for anybody, not only for a client.

Under this *shining headline* list all the features that the client or any other non-developer should be aware. This list can be organized in *bullets & numbering* way or sub-headings. This should look kinda pretty & compact changelog for the client.

Perfectly it should be *bullets & numbering* with **one** or **two sentences** in each item.

**Why be so modest?**  Because perfect PR should be small & focused on the one specific change.

#### Reusability of the 1st Part

All the 1st Part can be copied and pasted to JIRA, chat or email to tell the client about what is changed.

### 2nd Part: Technical Part

This part should answer **how** the aforementioned is achieved?

&nbsp; &nbsp;

#### Details about technical items changed

2nd Part starts by listing all the technicals - created, modified, removed, enabled, fixed, added, updated, ignored, prepared, etc. This part is a proper place where to **use technical language** and slangs - method names, classes, framework elements & items, system, tools, etc, and **also business logic terms**.

> **Hint**: It is not necessary to invent a technical list - while writing PR in GitHub, click to **"Files changed"** section and take a look at the magnificent work done [in *diff* format] and *transform* these changes in a bit different names. More compact, clear, precise. Only the owner of the PR can spot the essence!

Ideal structure for the technical change list is one or two-sentence for each item and *bullets & numbering* approach, but if the changes are so many & can be categorized, make it nested. If it is getting messy, sub-headings can be used. Just to know: In the ideal PR sub-headings is not necessary, changes are simple.

> **Note**: Highlight *automated tests* & give some more info about them. Automated test is not affecting the site, but make a project better. A little more description could help to understand how much better the project became.

#### ToDO (for others)

Technical part can be continued with some important announcements for other developers or service managers about what actions should be taken under what circumstances (what should be known, done, ran, when, how, **by whom**, etc.)

The keyword here is **ToDo**! If it is one thing to do or one-liner, then write in one line: *ToDo: .....*, but if there is more than one instruction of ToDo, make dedicated sub-heading - **ToDo** under technical change list!

> **Example**: *Deployer checklist* (ToDo before & after deploy). Before: Announce to client that site is going to be in maint mode for 15min; Set up maint mode. After: Do db update; Check the site manually; Remove maint mode

#### Technical testing

If in the Technical Part are some crucial/technical knowledge about how to test some service (not so obvious or complicated), then it should be known (written) in sub-heading *Technical testing*. This kind of testing is not for the client.

### 3rd Part: Testing Part

This part should answer **where** to see the result of changes / implementation of someone's effort?

&nbsp; &nbsp;

3rd Part includes testing instructions and is related with the [1st Part](#1st-part-message-to-the-client), because is written in a bit *high-level* manner and reflect or prove statement of changes listed in [1st Part](#1st-part-message-to-the-client).

**Note**: Testing instructions are also helping to reviewer PR.

Structure and info is not defined here - it depends on the test itself, so sub-heading or listing, pictures, text or video can suit. It is advised to specify steps for testing (either overall test workflow either each test item).

> **Idea** here is to provide the best variation of how to make sure that changes mentioned in [1st Part](#1st-part-message-to-the-client) can be checked.

#### Reusability of the 3rd Part

All the 3rd Part can be copied and pasted to JIRA, chat or email to tell the client about how to test new changes.

Instructions can be used later (even after changes merged), because it helps to understand the behaviour of the system by other devs (just by looking or testing manually).

### 4th Part: Reference to the story

This part should answer **why** there are changes - why there is PR after all?

&nbsp; &nbsp;

4th Part is the last one, because it contains references, which is usually placed at the end in technical docs. This is first & the only place in the PR description, where to mention ticket numbers.

**Note:** PR title should contain ticket numbers listed in this part.

List of the ticket reference(s) includes **Ticket URL** + **Ticket description** (1:1 as a ticket name - for consistency). Both concatenated together.

This part is short, but can serve many purposes:

* For tracing
* For consistency
* For double-checking is the work really done (match with **Definition of Done** in the ticket)
* For getting an answer that there is a valid reason for a PR

If there is no ticket assigned, create a ticket finally, it is never too late!

## Example (as a Recap)

### Situation / Use case

*The awesome outdoor boho style party managed in GitHub. The event holder: working class hippies. One of the task is to provide meals and set up grill.*

![Outdoor boho style party](https://live.staticflickr.com/3302/3474759240_8b1cc15091_b.jpg)

**Example of the PR description** â†´

### 1. Fill up refrigerator and prepare an outdoor grill

* Now in the fridge You can find lemonades, watermelon, yogurt, salads and 4 kinds of natural cheese
* Near the fridge You may find:
  * Few boxes of mineral water bottles.
  * Bananas for smoothies.
* The grill is set in the middle of the yard and is provided with timber, petrol and lighter

### 2. Technical

* All the food bought in the store at 1st Avenue and put in the owners fridge. A receipt is signed and put on the fridge.
* All the mineral water and petrol were given as a gift from the neighbor (with the condition to give it back).
* Timber was gathered from the fallen trees.

#### ToDo

* **Before** the party organizer should do the following:
  * 2 hours before Put some **timber** in the yard and slip **with petrol**
  * 1 hour before the event take out **watermelon** and **yogurt** from the fridge
  * Day before party test if a blender works (needed for smoothies)
* **After** the party **event owner** must bring back drinks and petrol to a neighbor [if any left].

#### Technical testing approach

Check the taste of the smoothie: Buy the same ingredients in the same store (yogurt, banana) and make some smoothie to test the taste

### 3. Test

Instructions for double-checking if all is set-up (food, drinks, grill with its items):

* Check if **food** is in place: Open the fridge and see that all the food is organized by categories in there.
* Check **drinks** are in place:
  * **Lemonade** can be checked in the same way as food.
  * See **Mineral water** boxes near the fridge.
* Check **grill** is ready for use: Go outside into the yard and see in the center a grill with a timber, petrol and lighter.

### 4. Story

<http://meals-for-a-hippy-party.jira> - Prepare veggie food and grill for a party.
